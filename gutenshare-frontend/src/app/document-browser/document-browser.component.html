<div class="jumbotron">
  <div class="container">
    <h1 class="display-3">browse the archives.</h1>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-4">
      <form (submit)="getDocuments()">
        <div class="form-group">
          <label for="">Institution</label>
          <select class="form-control" id="" multiple>
            <option *ngFor="let school of schools" (click)="addSchool(school.name)">
              {{ school.name }}
            </option>
          </select>
        </div>
      </form>
    </div>
    <div class="col-md-4">
      <form>
        <div class="form-group">
          <label for="">Department</label>
          <select class="form-control" id="" multiple>
            <option *ngFor="let department of schools | extractDepartments" (click)="addDepartement(department)">
              {{ department }}
            </option>
          </select>
        </div>
      </form>
    </div>
    <div class="col-md-4">
      <form>
        <div class="form-group">
          <label for="">Course</label>
          <select class="form-control" id="" multiple>
            <option *ngFor="let course of schools | extractCourses" (click)="addCourse(course)">
              {{ course }}
            </option>
          </select>
        </div>
        <div class="col-md-12">
          <button type="button" class="btn btn-block btn-info btn-get-documents" (click)="getDocuments()">Get Documents</button>
        </div>

      </form>
    </div>

    <table class="table">
      <thead>
      <tr>
        <th scope="col" (click)="changeSortingCriteria('title')">Title
          <span *ngIf="currentSearchCriteria == 'title' && documents.length > 0">
            <i class="fas fa-arrow-alt-circle-down" *ngIf="sortReverse == false"></i>
            <i class="fas fa-arrow-alt-circle-up" *ngIf="sortReverse == true"></i>
          </span>
        </th>
        <th scope="col" (click)="changeSortingCriteria('documentType')">Type
          <span *ngIf="currentSearchCriteria == 'documentType' && documents.length > 0">
            <i class="fas fa-arrow-alt-circle-down" *ngIf="sortReverse == false"></i>
            <i class="fas fa-arrow-alt-circle-up" *ngIf="sortReverse == true"></i>
          </span>
        </th>
        <th scope="col" (click)="changeSortingCriteria('rating')">Uploaded by
          <span *ngIf="currentSearchCriteria == 'rating' && documents.length > 0">
            <i class="fas fa-arrow-alt-circle-down"  *ngIf="sortReverse == false"></i>
            <i class="fas fa-arrow-alt-circle-up" *ngIf="sortReverse == true"></i>
          </span>
        </th>
        <th scope="col" (click)="changeSortingCriteria('fileType')">File type
          <span *ngIf="currentSearchCriteria == 'fileType' && documents.length > 0">
            <i class="fas fa-arrow-alt-circle-down"  *ngIf="sortReverse == false"></i>
            <i class="fas fa-arrow-alt-circle-up" *ngIf="sortReverse == true"></i>
          </span>
        </th>
        <th>
        </th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let document of documents">
        <td>{{ document.title }}</td>
        <td>{{ document.documentType }}</td>
        <td>{{ document.user }}</td>
        <td>{{ document.fileType }}</td>
        <td>
          <a class="button" routerLink="/detail/{{ document.id }}" class="btn btn-info btn-get-documents">
            <i class="far fa-file"></i>
            Go to detail page
          </a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
